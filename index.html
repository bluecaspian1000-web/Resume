<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>رزومه من</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

    <!-- Header -->
    <header>
        <h1>Yas Janami</h1>
        <p>برنامه‌نویس | توسعه‌دهنده وب</p>
        <p class="online">
            کاربران آنلاین: <span id="online">0</span>
        </p>
    </header>

    <!-- About -->
    <section>
        <h2>درباره من</h2>
        <p>
            من یک توسعه‌دهنده وب علاقه‌مند به طراحی و پیاده‌سازی
            اپلیکیشن‌های تحت وب با استفاده از تکنولوژی‌های مدرن هستم.
        </p>
    </section>

    <!-- Skills -->
    <section>
        <h2>مهارت‌ها</h2>
        <div class="skills">
            <span>HTML</span>
            <span>CSS</span>
            <span>JavaScript</span>
            <span>Python</span>
            <span>FastAPI</span>
        </div>
    </section>

    <!-- Education -->
    <section>
        <h2>سوابق تحصیلی</h2>
        <ul>
            <li>کارشناسی مهندسی نرم‌افزار – دانشگاه شهید چمران اهواز</li>
            <li>1401 - 1405</li>
        </ul>
    </section>

    <!-- Experience -->
    <section>
        <h2>تجربیات کاری / پروژه‌ها</h2>
        <ul>
            <li>طراحی رزومه آنلاین با HTML و CSS</li>
            <li>پیاده‌سازی بک‌اند با FastAPI</li>
            <li>استفاده از WebSocket برای ارتباط زنده</li>
        </ul>
    </section>

    <!-- Contact -->
    <section>
        <h2>اطلاعات تماس</h2>
        <ul>
            <li> ایمیل: bluecaspian1000@gmail.com</li>
            <li> گیت‌هاب: github.com/bluecaspian1000-web</li>
            <li> لینکدین: linkedin.com/in/username</li>
        </ul>
    </section>

    <section>
        <h2>ارسال درخواست پروژه</h2>
        <form id="requestForm">
            <input type="text" id="name" placeholder="نام و نام خانوادگی" required>
            <input type="email" id="email" placeholder="ایمیل" required>
            <input type="text" id="title" placeholder="عنوان پروژه" required>
            <textarea id="desc" placeholder="توضیح پروژه" required></textarea>
            <button type="submit">ارسال درخواست</button>
        </form>
    </section>



    <footer>
        © 2026 - رزومه آنلاین
    </footer>

</div>

<!-- WebSocket -->
<script>
    const ws = new WebSocket("wss://resume-backend-nmxq.onrender.com/ws/online");

    ws.onmessage = function (event) {
        document.getElementById("online").innerText = event.data;
    };

    ws.onclose = function () {
        document.getElementById("online").innerText = "0";
    };
</script>

<script>
document.getElementById("requestForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const data = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        title: document.getElementById("title").value,
        description: document.getElementById("desc").value
    };

    try {
        const res = await fetch("https://resume-backend-nmxq.onrender.com/requests", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });
        if (res.ok) alert("درخواست شما ثبت شد!");
        else alert("خطا در ثبت درخواست");
    } catch (err) {
        alert("ارتباط با سرور برقرار نشد");
    }

    // خالی کردن فرم
    document.getElementById("requestForm").reset();
});
</script>

</body>
</html>
